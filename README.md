# MedAI Docs (Docusaurus)

MedAI documentation repo, built with [Docusaurus](https://docusaurus.io/) and deployed to GitHub Pages:
- Site: https://herreran903.github.io/docs-medai/
- `baseUrl`: `/docs-medai/`

## Docs structure

- **Overview**: `docs/intro.md`
- **Frontend API**: generated by TypeDoc in `docs/api/front/**`
- **Backend API**: `docs/backend-api.mdx` renders ReDoc with the OpenAPI spec

## OpenAPI (Backend)

The OpenAPI spec is generated in CI and published as a static file:
- Local source: `openapi/backend.json`
- Published at: `static/openapi/backend.json` -> `https://herreran903.github.io/docs-medai/openapi/backend.json`

The script that prepares it is `scripts/fetch_back_openapi.sh`.

## Main scripts

- `npm run gen:api`: runs `scripts/fetch_front_docs.sh` and `scripts/fetch_back_openapi.sh`
- `npm run start`: local development
- `npm run build`: production build

## Requirements

- Node.js LTS (>= 20)
- npm

## Environment variables / secrets

Set in GitHub Actions if the repos are private:
- `GH_PAT` (read-only token)

Optional overrides:
- `FRONT_REPO`, `FRONT_REF`, `FRONT_REPO_URL`, `FRONT_REPO_TOKEN`
- `FRONT_TYPEDOC_CMD`, `FRONT_TYPEDOC_OUT`
- `BACK_REPO`, `BACK_BRANCH`, `BACK_REPO_URL`, `BACK_REPO_TOKEN`

## Install

```bash
npm ci
```

## Local development

```bash
npm run gen:api
npm run start
```

## Build

```bash
npm run gen:api
npm run build
```

## Deployment

GitHub Actions runs `docs-build.yml` on each push to `main` or via `repository_dispatch`.
